// build time:Mon May 28 2018 17:16:17 GMT+0800 (CST)
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.http=exports.Query=exports.isString=undefined;var _slicedToArray=function(){function e(e,t){var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(u){a=true;i=u}finally{try{if(!n&&o["return"])o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.getTargetContainer=getTargetContainer;var _constants=require("./constants");var isString=exports.isString=function e(t){return toString.call(t)==="[object String]"};function getTargetContainer(e){var t=void 0;if(e instanceof Element){t=e}else if(isString(e)){t=document.getElementById(e)}else{t=document.createElement("div")}return t}var Query=exports.Query={parse:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.location.search;if(!e)return{};var t=e[0]==="?"?e.substring(1):e;var r={};t.split("&").forEach(function(e){var t=e.split("="),n=_slicedToArray(t,2),a=n[0],i=n[1];if(a)r[a]=i});return r},stringify:function r(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"?";var r=Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t]||"")}).join("&");return r?t+r:""}};function ajaxFactory(e){return function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"https://api.github.com";var a=new XMLHttpRequest;var i=localStorage.getItem(_constants.LS_ACCESS_TOKEN_KEY);var o=""+n+t;var s=null;if(e==="GET"||e==="DELETE"){o+=Query.stringify(r)}var u=new Promise(function(e,t){a.addEventListener("load",function(){var r=a.getResponseHeader("content-type");var n=a.responseText;if(!/json/.test(r)){e(n);return}var i=a.responseText?JSON.parse(n):{};if(i.message){t(new Error(i.message))}else{e(i)}});a.addEventListener("error",function(e){return t(e)})});a.open(e,o,true);a.setRequestHeader("Accept","application/vnd.github.squirrel-girl-preview, application/vnd.github.html+json");if(i){a.setRequestHeader("Authorization","token "+i)}if(e!=="GET"&&e!=="DELETE"){s=JSON.stringify(r);a.setRequestHeader("Content-Type","application/json")}a.send(s);return u}}var http=exports.http={get:ajaxFactory("GET"),post:ajaxFactory("POST"),"delete":ajaxFactory("DELETE"),put:ajaxFactory("PUT")};
//rebuild by neat 